<button mat-button 
*ngFor="let level0 of  this.data.rootmenu"
(click)="(this.data.currentDevcat=level0.label)">
<ng-container  [ngSwitch]="level0.label">
    <mat-icon *ngSwitchCase="'Info'" fontIcon="info"></mat-icon> 
    <mat-icon *ngSwitchCase="'messages'" fontIcon="message"></mat-icon> 
    <mat-icon *ngSwitchCase="'Profiles'" fontIcon="save_as"></mat-icon> 
    <ng-container *ngSwitchDefault="'Profiles'">{{level0.label}}</ng-container> 
</ng-container>
</button>



<div *ngFor="let level0 of  this.data.rootmenu">
    <ng-container *ngIf="(level0.label==this.data.currentDevcat)">
        
        <ng-container *ngIf="(level0.children.length==0)">
            <app-prop [mod]="this.mod" [prop]="level0.label" ></app-prop>
        </ng-container> 
        
        <div *ngFor="let level1 of level0.children">

            <ng-container *ngIf="(level1.children.length==0)">
                <app-prop [mod]="this.mod" [prop]="level1.label"></app-prop>
            </ng-container> 

            <ng-container *ngIf="(level1.children.length>0&&level1.label=='')">
                <div *ngFor="let level2 of level1.children">
                    <ng-container *ngIf="(level2.children.length==0)">
                        <app-prop [mod]="this.mod" [prop]="level2.label"></app-prop>
                    </ng-container> 
                    <ng-container *ngIf="(level2.children.length>0)">"We have a problem, this node is too far "{{level2.label}}"</ng-container> 
                  </div>                
            </ng-container> 

            <mat-expansion-panel *ngIf="(level1.children.length>0&&level1.label!='')" class="mat-elevation-z0" 
                enabled (click)="(this.data.currentGroup=level1.label)">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{level1.label}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div *ngFor="let level2 of level1.children">
                    <ng-container *ngIf="(level2.children.length==0)">
                        <app-prop [mod]="this.mod" [prop]="level2.label"></app-prop>
                    </ng-container> 
                    <ng-container *ngIf="(level2.children.length>0)">"We have a problem, this node is too far "{{level2.label}}"</ng-container> 
    
                  </div>                
            </mat-expansion-panel> 
            
</div>